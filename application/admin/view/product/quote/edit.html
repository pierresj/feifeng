<link rel="stylesheet" href="__CDN__/assets/kindeditor/themes/default/default.css" />
<script src="__CDN__/assets/kindeditor/kindeditor.js?v=5"></script>
<script src="__CDN__/assets/kindeditor/lang/zh_CN.js"></script>
<form id="edit-form" class="form-horizontal" role="form" data-toggle="validator" method="POST" action="">

    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Content')}:</label>
        <div class="col-xs-12 col-sm-8">
            <textarea id="c-content" data-rule="required" name="row[content]" style="width:100%;height:400px">{$row.content}</textarea>
        </div>
    </div>
    <div class="form-group layer-footer">
        <label class="control-label col-xs-12 col-sm-2"></label>
        <div class="col-xs-12 col-sm-8">
            <button type="submit" class="btn btn-success btn-embossed disabled">{:__('OK')}</button>
            <button type="reset" class="btn btn-default btn-embossed">{:__('Reset')}</button>
        </div>
    </div>
</form>
<script type="text/javascript">
    var editor;
    KindEditor.ready(function(K) {
        editor = K.create('#c-content', {
            allowFileManager : true,
            resizeType:0,
            autoHeightMode : true,
            afterCreate : function() {
                this.sync();
                this.loadPlugin('autoheight');
            },
            afterChange: function(){ //编辑器内容发生变化后，将编辑器的内容设置到原来的textarea控件里
                this.sync();
            },
            afterBlur : function(){ //编辑器聚焦后，将编辑器的内容设置到原来的textarea控件里
                this.sync();
            }
        });
    });
</script>

